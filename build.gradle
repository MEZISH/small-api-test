apply plugin: 'groovy'
apply plugin: 'idea'

repositories {
    mavenCentral()
}

dependencies {
    compile "junit:junit:${junitVersion}"
    compile "info.cukes:cucumber-groovy:${cucumberVersion}"
    compile "info.cukes:cucumber-junit:${cucumberVersion}"
    compile "org.codehaus.groovy:groovy-all:${groovyVersion}"
    compile "joda-time:joda-time:2.9.4"
    compile "org.apache.commons:commons-lang3:3.4"
    compile "commons-validator:commons-validator:1.6"
    compile "org.apache.httpcomponents:httpclient:4.5.3"
}

test {
    systemProperties += [
            'api.url'         : prop('apiUrl', 'https://jsonplaceholder.typicode.com'),
            'cucumber.options': "--tags @${prop('tags', 'test')}"
    ]
}

def prop(String name, String defaultValue = null) {
    project.hasProperty(name) ? project.getProperty(name) : defaultValue
}